{
	"info": {
		"_postman_id": "62525ddb-1fd1-4f81-9895-4c4c6ee4e3ac",
		"name": "咸鱼云Java版",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "用户",
			"item": [
				{
					"name": "登录",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"let res = JSON.parse(responseBody)\r",
									"if (pm.response.code === 200) {\r",
									"    pm.environment.set(\"token\", res.data)\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"url": {
							"raw": "{{addr}}/api/user/token?user=admin&passwd=admin666",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"user",
								"token"
							],
							"query": [
								{
									"key": "user",
									"value": "admin"
								},
								{
									"key": "passwd",
									"value": "admin666"
								}
							]
						},
						"description": "获取token以登录，在后续请求中将此token放于名为`Token`的header字段中实现身份鉴权\r\n- URI: `/api/user/token`\r\n- 动作：POST\r\n\r\n### 参数\r\n- user 用户名\r\n- passwd 密码"
					},
					"response": []
				},
				{
					"name": "取用户信息",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "passwd",
									"value": "mojintao233",
									"type": "text"
								},
								{
									"key": "user",
									"value": "xiaotao",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{addr}}/api/user",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"user"
							]
						},
						"description": "获取用户信息\r\n- URI: `/api/user/`\r\n- 动作：GET\r\n\r\n### 响应\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": {\r\n        \"id\": 42,\r\n        \"user\": \"xiaotao\",\r\n        \"type\": 1,          //  1为管理员，0为普通用户\r\n        \"quota\": 10         //  私人空间配额（GiB）\r\n    },\r\n    \"msg\": \"OK\"\r\n}\r\n```"
					},
					"response": [
						{
							"name": "取用户信息",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/user",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"user"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "Content-Type",
									"value": "application/json;charset=UTF-8"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Mon, 15 Feb 2021 15:14:05 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"code\": 1,\n    \"data\": {\n        \"id\": 3,\n        \"user\": \"xiaoxi\",\n        \"type\": 0,\n        \"username\": \"xiaoxi\",\n        \"accountNonExpired\": true,\n        \"accountNonLocked\": true,\n        \"credentialsNonExpired\": true,\n        \"enabled\": true\n    },\n    \"msg\": \"OK\"\n}"
						}
					]
				},
				{
					"name": "注册用户",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "user",
									"value": "wodiu",
									"description": "用户名",
									"type": "text"
								},
								{
									"key": "passwd",
									"value": "wodiu",
									"description": "密码",
									"type": "text"
								},
								{
									"key": "regcode",
									"value": "123456",
									"description": "注册邀请码",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{addr}}/api/user",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"user"
							]
						},
						"description": "用户自主注册接口\r\n- URI: `/api/user/`\r\n- 动作：POST\r\n\r\n### 请求体参数\r\n- user  用户名\r\n- passwd    登录密码\r\n- regcode   注册邀请码，如果是管理员用户请求该接口，则不需要填写邀请码"
					},
					"response": []
				},
				{
					"name": "上传用户头像",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/C:/Users/12079/Desktop/avatar.jpg"
								}
							]
						},
						"url": {
							"raw": "{{addr}}/api/user/avatar",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"user",
								"avatar"
							]
						},
						"description": "上传用户头像\r\n- URI: `/api/user/avatar`\r\n- 动作：POST\r\n\r\n### 请求体参数\r\n- file 头像文件"
					},
					"response": []
				},
				{
					"name": "获取用户头像",
					"protocolProfileBehavior": {
						"followRedirects": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{addr}}/api/user/avatar/xiaotao",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"user",
								"avatar",
								"xiaotao"
							]
						},
						"description": "获取用户头像\r\n- URI: `/api/user/avatar`或`/api/user/avater/{用户名}`\r\n- 动作：GET\r\n\r\n### 响应\r\n直接响应文件"
					},
					"response": []
				},
				{
					"name": "获取空间配额使用情况",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{addr}}/api/user/quota",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"user",
								"quota"
							]
						},
						"description": "描述：查询已登录用户的空间配额使用情况  \r\n- URI: `/api/user/quota`  \r\n- 动作：GET\r\n\r\n#### 响应data样例  \r\n```json\r\n{\r\n    // 单位均为字节（Byte）\r\n    \"used\": 114514,         // 已用空间\r\n    \"quota\": 10737418240    // 总配额\r\n}\r\n```"
					},
					"response": []
				},
				{
					"name": "修改密码",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "old",
									"value": "233333",
									"type": "text"
								},
								{
									"key": "new",
									"value": "123123123",
									"type": "text"
								},
								{
									"key": "force",
									"value": "true",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{addr}}/api/user/51/passwd",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"user",
								"51",
								"passwd"
							]
						},
						"description": "修改用户的密码\r\n- URI: `/api/user/{uid}/passwd`\r\n- 动作：POST\r\n\r\n### URI参数\r\n- uid 被操作的用户ID（非管理员用户只允许操作自己）\r\n\r\n### 表单参数\r\n- old 旧密码\r\n- new 新密码\r\n- force 强制重置，只允许管理员使用，可无视旧密码直接重置密码"
					},
					"response": []
				}
			]
		},
		{
			"name": "系统资源操作",
			"item": [
				{
					"name": "断点续传任务",
					"item": [
						{
							"name": "创建断点续传任务",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/breakpoint?fileName=test.mp4&length=2097153&chunkSize=3024000",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"breakpoint"
									],
									"query": [
										{
											"key": "fileName",
											"value": "test.mp4",
											"description": "文件名"
										},
										{
											"key": "length",
											"value": "2097153",
											"description": "文件长度"
										},
										{
											"key": "chunkSize",
											"value": "3024000"
										}
									]
								},
								"description": "创建断点续传任务\r\n\r\n- URI：`/api/breakpoint/`\r\n- 动作：POST\r\n\r\n### 参数\r\n- fileName - 文件名\r\n- length - 文件长度\r\n\r\n### 响应\r\n创建成功后响应任务信息\r\n```json\r\n{\r\n    \"taskId\": \"67ab0bc9-92d0-4b4c-ae22-f9e4b4196bec\",   //  任务ID\r\n    \"fileName\": \"test.mp4\", // 文件名\r\n    \"length\": 2097153,      // 文件长度\r\n    \"chunkSize\": 2097152,   // 每分块长度\r\n    \"chunkCount\": 2         // 总分块数量\r\n}\r\n```"
							},
							"response": []
						},
						{
							"name": "获取任务信息",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/breakpoint?id=b2c1ad18-6b93-4da3-872a-4f82dfeb0a8f",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"breakpoint"
									],
									"query": [
										{
											"key": "id",
											"value": "b2c1ad18-6b93-4da3-872a-4f82dfeb0a8f",
											"description": "任务ID"
										}
									]
								},
								"description": "获取断点续传任务的详细信息\r\n\r\n- URI：`/api/breakpoint/`\r\n- 动作：GET\r\n\r\n### 参数\r\n- id - 要查询的任务ID\r\n\r\n### 响应\r\n创建成功后响应任务信息\r\n```json\r\n{\r\n    \"taskId\": \"67ab0bc9-92d0-4b4c-ae22-f9e4b4196bec\",   //  任务ID\r\n    \"fileName\": \"test.mp4\", // 文件名\r\n    \"length\": 2097153,      // 文件长度\r\n    \"chunkSize\": 2097152,   // 每分块长度\r\n    \"chunkCount\": 2         // 总分块数量\r\n}\r\n```"
							},
							"response": []
						},
						{
							"name": "结束断点续传任务",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/breakpoint?id=b2c1ad18-6b93-4da3-872a-4f82dfeb0a8f",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"breakpoint"
									],
									"query": [
										{
											"key": "id",
											"value": "b2c1ad18-6b93-4da3-872a-4f82dfeb0a8f",
											"description": "任务ID"
										}
									]
								},
								"description": "结束断点续传任务，操作将使服务器释放对应的资源，同时会导致该断点续传任务不再可用\r\n\r\n- URI：`/api/breakpoint/`\r\n- 动作：DELETE\r\n\r\n### 参数：\r\n- id - 要结束的任务ID"
							},
							"response": []
						},
						{
							"name": "上传文件片段",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "file",
											"type": "file",
											"src": "/D:/game/mc/脚本启动.bat"
										}
									]
								},
								"url": {
									"raw": "{{addr}}/api/breakpoint/9eb03bf5-2d61-4e3d-bb50-6e3179407c1b/1",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"breakpoint",
										"9eb03bf5-2d61-4e3d-bb50-6e3179407c1b",
										"1"
									]
								},
								"description": "上传文件片段到断点续传任务\r\n\r\n- URI：`/api/breakpoint/{taskId}/{part}`\r\n- 动作：POST\r\n\r\n### URL参数\r\n- taskId 断点续传任务ID\r\n- part   本次上传的文件块编号，可以使用范围，如：3-6表示这个文件是文件块3，4，5，6的部分"
							},
							"response": []
						}
					]
				},
				{
					"name": "解析节点ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{addr}}/api/resource/42/path/root",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"resource",
								"42",
								"path",
								"root"
							]
						},
						"description": "用于将节点ID解析为网盘路径，因为搜索文件接口返回的结果中，只有文件所处的节点ID或节点本身的ID，进一步访问需要得知该资源的网盘路径。\r\n\r\n- URI: `/api/resource/{uid}/path/{nodeId}`\r\n- 动作：GET  \r\n\r\n### URI参数\r\n- uid 用户ID  \r\n- nodeId 节点ID\r\n\r\n#### 响应\r\n```json\r\n{\r\n    \"code\":1,\r\n    \"data\": \"/this/is/a/path\",\r\n    \"msg\": \"ok\"\r\n}\r\n```"
					},
					"response": []
				},
				{
					"name": "使用下载码下载文件",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{addr}}/api/resource/0/fileContentByFDC/eyJhbGciOiJIUzI1NiJ9.eyJkYXRhIjoie1wibmFtZVwiOlwicGhvdG8xLnBuZ1wiLFwibWQ1XCI6XCJmZjljMTk4ZTNjZDFkNmU5NDg2OTgzNTU5OTJmMmZjM1wiLFwic2l6ZVwiOjAsXCJ1aWRcIjo0MixcImRpclwiOlwiL2ZvbGRlcjFcIixcInN1ZmZpeFwiOlwicG5nXCJ9IiwiZXhwIjoxNjIwNjYyNjE2LCJpYXQiOjE2MjA1NzYyMTZ9.mSdg9kS4xsStn4g8vUOdJJBv4VcVNWL0TratxkrQ86o",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"resource",
								"0",
								"fileContentByFDC",
								"eyJhbGciOiJIUzI1NiJ9.eyJkYXRhIjoie1wibmFtZVwiOlwicGhvdG8xLnBuZ1wiLFwibWQ1XCI6XCJmZjljMTk4ZTNjZDFkNmU5NDg2OTgzNTU5OTJmMmZjM1wiLFwic2l6ZVwiOjAsXCJ1aWRcIjo0MixcImRpclwiOlwiL2ZvbGRlcjFcIixcInN1ZmZpeFwiOlwicG5nXCJ9IiwiZXhwIjoxNjIwNjYyNjE2LCJpYXQiOjE2MjA1NzYyMTZ9.mSdg9kS4xsStn4g8vUOdJJBv4VcVNWL0TratxkrQ86o"
							]
						},
						"description": "用于需要免登录验证而又保护用户认证信息的情况下下载文件，比如 使用外部下载器，分享好友等\r\n\r\n- URI：`/api/resource/0/fileContentByFDC/{下载码}`\r\n- 动作：GET\r\n\r\n下载码通过'获取文件下载码'接口获得\r\n\r\n### 响应\r\n直接响应文件"
					},
					"response": []
				},
				{
					"name": "获取文件下载码",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"url": {
							"raw": "{{addr}}/api/resource/42/FDC/folder1?md5=ff9c198e3cd1d6e948698355992f2fc3&name=photo1.png",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"resource",
								"42",
								"FDC",
								"folder1"
							],
							"query": [
								{
									"key": "md5",
									"value": "ff9c198e3cd1d6e948698355992f2fc3",
									"description": "目标文件的MD5（当服务器采用唯一存储方式时，该值必须正确）"
								},
								{
									"key": "name",
									"value": "photo1.png",
									"description": "目标文件名"
								}
							]
						},
						"description": "获取某个文件的下载码，使用下载码可用于免登录在外部工具下载或分享他人  \r\n- URI：`/api/resource/{用户ID}/FDC/{文件所在路径}`  \r\n- 动作：GET\r\n\r\n#### 参数列表\r\n- md5: 文件的MD5（当服务器使用原始文件结构存储文件时，该项不起作用）\r\n- name：文件名  \r\n\r\n#### 响应data\r\n- 下载码，用于'使用下载码下载文件'接口"
					},
					"response": []
				},
				{
					"name": "使用MD5下载文件",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{addr}}/api/resource/50/fileContentByMD5/bd68e6b2312bb88889809df88641bbb0",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"resource",
								"50",
								"fileContentByMD5",
								"bd68e6b2312bb88889809df88641bbb0"
							]
						},
						"description": "通过文件MD5下载网盘中的文件而无需关注文件位置和所属用户\r\n\r\n- URI：`/api/resource/{uid}/fileContentByMD5/{md5}/{name}`\r\n- 动作：GET\r\n\r\nURI参数：\r\n- uid 用户id，任意int型整数均可，此为占位参数，不起作用但必须传入\r\n- md5 文件md5值\r\n- name 文件名，可选参数，不影响服务器响应。可用于wget等工具方便识别文件名\r\n\r\n### 响应\r\n直接响应文件"
					},
					"response": []
				}
			]
		},
		{
			"name": "网盘文件操作",
			"item": [
				{
					"name": "取文件列表",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{addr}}/api/diskFile/0/fileList/byPath/软件工具/网络工具",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"0",
								"fileList",
								"byPath",
								"软件工具",
								"网络工具"
							]
						},
						"description": "获取网盘中的文件列表  \r\n- URI：`/api/diskFile/{用户id}/fileList/byPath/{请求的路径} ` \r\n- 动作：GET \r\n\r\n响应示例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": [\r\n        [\r\n            {\r\n                \"name\": \"网络分析与抓包\",\r\n                \"md5\": \"334ca18030b781d171b5b65cf5f42388\",\r\n                \"type\": 1,\r\n                \"size\": -1,\r\n                \"node\": \"ed71dfc52b1cbf4237e69e6333bde461\",\r\n                \"created_at\": \"2021-05-08T17:06:01.000+00:00\",\r\n                \"formatModified\": \"2021-05-09 01:06:01\",\r\n                \"suffix\": \"网络分析与抓包\",\r\n                \"dir\": true\r\n            }\r\n        ],\r\n        [\r\n            {\r\n                \"name\": \"Postman-win64-7.26.0-Setup.exe\",\r\n                \"md5\": \"6ad1d3fdfd37f78284ac6a111eaddac2\",\r\n                \"type\": 2,\r\n                \"size\": 90929760,\r\n                \"node\": \"ed71dfc52b1cbf4237e69e6333bde461\",\r\n                \"created_at\": \"2021-05-08T17:06:01.000+00:00\",\r\n                \"formatModified\": \"2021-05-09 01:06:01\",\r\n                \"suffix\": \"exe\",\r\n                \"dir\": false\r\n            }\r\n        ]\r\n    ],\r\n    \"msg\": \"OK\"\r\n}\r\n```"
					},
					"response": [
						{
							"name": "取文件列表",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/fileList/0",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"fileList",
										"0"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "Content-Type",
									"value": "application/json;charset=UTF-8"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Mon, 15 Feb 2021 15:16:03 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"code\": 1,\n    \"data\": [\n        [\n            {\n                \"name\": \"其他\",\n                \"size\": -1,\n                \"type\": 1,\n                \"lastModified\": 1601457910295,\n                \"file\": false,\n                \"suffix\": \"其他\",\n                \"dir\": true,\n                \"formatModified\": \"2020-09-30 17:25:10\"\n            },\n            {\n                \"name\": \"图片资源\",\n                \"size\": -1,\n                \"type\": 1,\n                \"lastModified\": 1605077251788,\n                \"file\": false,\n                \"suffix\": \"图片资源\",\n                \"dir\": true,\n                \"formatModified\": \"2020-11-11 14:47:31\"\n            },\n            {\n                \"name\": \"安卓APP\",\n                \"size\": -1,\n                \"type\": 1,\n                \"lastModified\": 1601463156268,\n                \"file\": false,\n                \"suffix\": \"安卓app\",\n                \"dir\": true,\n                \"formatModified\": \"2020-09-30 18:52:36\"\n            },\n            {\n                \"name\": \"工具软件\",\n                \"size\": -1,\n                \"type\": 1,\n                \"lastModified\": 1601463281242,\n                \"file\": false,\n                \"suffix\": \"工具软件\",\n                \"dir\": true,\n                \"formatModified\": \"2020-09-30 18:54:41\"\n            },\n            {\n                \"name\": \"驱动\",\n                \"size\": -1,\n                \"type\": 1,\n                \"lastModified\": 1601468904893,\n                \"file\": false,\n                \"suffix\": \"驱动\",\n                \"dir\": true,\n                \"formatModified\": \"2020-09-30 20:28:24\"\n            }\n        ],\n        [\n            {\n                \"name\": \"autoindex.html\",\n                \"size\": 11795,\n                \"type\": 2,\n                \"lastModified\": 1595249972503,\n                \"file\": true,\n                \"suffix\": \"html\",\n                \"dir\": false,\n                \"formatModified\": \"2020-07-20 20:59:32\"\n            },\n            {\n                \"name\": \"web.config\",\n                \"size\": 168,\n                \"type\": 2,\n                \"lastModified\": 1602303497178,\n                \"file\": true,\n                \"suffix\": \"config\",\n                \"dir\": false,\n                \"formatModified\": \"2020-10-10 12:18:17\"\n            }\n        ]\n    ],\n    \"msg\": \"OK\"\n}"
						}
					]
				},
				{
					"name": "新建文件夹",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "新建文件夹233",
									"description": "文件夹名称",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{addr}}/api/diskFile/42/dir/",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"42",
								"dir",
								""
							]
						},
						"description": "在请求的路径下创建文件夹  \r\n- URI: `/api/diskFile/{用户id}/dir/{目标所在路径}`\r\n- 动作：PUT\r\n\r\n\r\n### 参数：\r\n- name 文件夹名称"
					},
					"response": []
				},
				{
					"name": "删除文件",
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"fileName\": [\r\n        \"avatar.jpg\"\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{addr}}/api/diskFile/42/content/",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"42",
								"content",
								""
							]
						},
						"description": "对某个目录下的多个文件进行删除  \r\n- URI:`/api/diskFile/{uid}/content/{目标所在路径}`  \r\n- 动作：DELETE  \r\n\r\n#### 请求体\r\n```json\r\n{\r\n    \"fileName\": [\r\n        \"avatar.jpg\",\r\n        \"otherfile\"\r\n    ]\r\n}\r\n```\r\n\r\n#### 响应体\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": 3,          //  删除的文件和文件夹总数，若为0则表示没有删除任何数据\r\n    \"msg\": \"OK\"\r\n}\r\n```"
					},
					"response": [
						{
							"name": "删除2个文件",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"fileName\": [\r\n        \"cb85a661e0074edfc2260057807ba16d.jpg\",\r\n        \"IMG_20210131_205153_1.jpg\"\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{addr}}/api/resource/1/我的图片",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"resource",
										"1",
										"我的图片"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "Content-Type",
									"value": "application/json;charset=UTF-8"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Mon, 15 Feb 2021 15:09:37 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"code\": 1,\n    \"data\": 2,\n    \"msg\": \"OK\"\n}"
						}
					]
				},
				{
					"name": "搜索文件",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{addr}}/api/diskFile/42/fileList/byName/photo?page=1",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"42",
								"fileList",
								"byName",
								"photo"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								}
							]
						},
						"description": "搜索网盘中的文件\r\n- URI：`/api/diskFile/{uid}/fileList/byName/{文件名关键字}`  \r\n- 动作：GET\r\n\r\n#### 响应示例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": {\r\n        \"total\": 2,     //  文件总数\r\n        \"list\": [\r\n            {\r\n                \"name\": \"photo1.png\",                           //  文件名\r\n                \"md5\": \"ff9c198e3cd1d6e948698355992f2fc3\",      //  文件MD5\r\n                \"size\": 889946,                                 //  文件大小（Byte）,文件夹为-1\r\n                \"parent\": \"folder2\",                            //  所在文件夹名称\r\n                \"node\": \"de1e955ec96bd60c089d60bc05931032\",     //  所在文件夹节点ID\r\n                \"created_at\": \"2021-05-10T00:17:10.000+00:00\",  //  创建日期\r\n                \"formatModified\": \"2021-05-10 08:17:10\",        //  修改日期\r\n                \"suffix\": \"png\",                                //  后缀名\r\n                \"dir\": false                                    //  是否为文件夹\r\n            }\r\n        ],\r\n        \"pageNum\": 1,\r\n        \"pageSize\": 10,\r\n        \"size\": 2,\r\n        \"startRow\": 1,\r\n        \"endRow\": 2,\r\n        \"pages\": 1,\r\n        \"prePage\": 0,\r\n        \"nextPage\": 0,\r\n        \"isFirstPage\": true,\r\n        \"isLastPage\": true,\r\n        \"hasPreviousPage\": false,\r\n        \"hasNextPage\": false,\r\n        \"navigatePages\": 8,\r\n        \"navigatepageNums\": [\r\n            1\r\n        ],\r\n        \"navigateFirstPage\": 1,\r\n        \"navigateLastPage\": 1\r\n    },\r\n    \"msg\": \"OK\"\r\n}\r\n```"
					},
					"response": []
				},
				{
					"name": "上传文件",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"description": "文件[当使用断点续传时可为空或不使用]",
									"type": "file",
									"src": [],
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{addr}}/api/diskFile/1/file?breakpoint_id=4f681cb5-1cfc-4210-869c-63222535718f",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"1",
								"file"
							],
							"query": [
								{
									"key": "breakpoint_id",
									"value": "4f681cb5-1cfc-4210-869c-63222535718f"
								}
							]
						},
						"description": "将文件上传到网盘，若文件已存在则会覆盖  \r\n- URI: `/api/diskFile/{用户id}/file/{要上传到的路径}`\r\n- 动作：PUT  \r\n\r\n#### QueryString参数\r\n- breakpoint_id 断点任务ID，当断点续传任务完成后，使用任务ID请求该接口，表示保存\"使用断点续传任务上传文件\"到用户网盘。保存成功后断点续传任务将被销毁\r\n\r\n#### body参数:\r\n- file 类型：文件 当使用断点续传时，可不需要\r\n注意：请求的路径必须是存在的路径，若不存在需要手动提前创建，否则文件会保存失败"
					},
					"response": []
				},
				{
					"name": "移动文件",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"target\": \"/folder1\",\r\n    \"files\":[\r\n        {\r\n            \"source\": \"folder2\",\r\n            \"target\": \"wow\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{addr}}/api/diskFile/42/fromPath/",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"42",
								"fromPath",
								""
							]
						},
						"description": "移动多个文件或目录到指定目录下  \r\n- API：`/api/file/move/{用户ID}/{原文件所在路径}`  \r\n- 动作：POST\r\n\r\n\r\n\r\n#### 请求体结构\r\n```json\r\n{\r\n    \"target\":\"/abcd/\",              //  粘贴到的目标目录下\r\n    \"files\":[                       \r\n        {\r\n            \"source\":\"文件名\",      //  要移动的文件名\r\n            \"target\":\"文件名\"        //  暂时无用\r\n        },\r\n        {\r\n            \"source\":\"file1\",\r\n            \"target\":\"file1\"\r\n        }\r\n    ]\r\n}\r\n```"
					},
					"response": []
				},
				{
					"name": "复制文件或目录",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"target\": \"/\",\r\n    \"files\":[\r\n        {\r\n            \"source\": \"folder1\",\r\n            \"target\": \"folder2\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{addr}}/api/diskFile/42/fromPath/",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"42",
								"fromPath",
								""
							]
						},
						"description": "- URI：`/api/diskFile/{用户ID}/fromPath/{原文件所在路径}`  \r\n- 动作：POST\r\n\r\n#### 请求体结构\r\n```json\r\n{\r\n    \"target\":\"/abcd/\",              //  粘贴目录\r\n    \"files\":[                       //  要操作的文件列表\r\n        {\r\n            \"source\":\"旧文件名\",    //  被复制的文件名\r\n            \"target\":\"新文件名\"     //  粘贴后的文件名（可重命名）\r\n        },\r\n        {\r\n            \"source\":\"file1\",\r\n            \"target\":\"file2\"\r\n        }\r\n    ]\r\n}\r\n```"
					},
					"response": []
				},
				{
					"name": "重命名文件或目录",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "oldName",
									"value": "photo1.png",
									"description": "旧文件名",
									"type": "text"
								},
								{
									"key": "newName",
									"value": "photo2.png",
									"description": "重命名后新文件名",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{addr}}/api/diskFile/42/name/folder1",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"42",
								"name",
								"folder1"
							]
						},
						"description": "- API：`/api/file/rename/{用户ID}/{原文件所在路径}`  \r\n- 方法：POST\r\n\r\n### 参数\r\n- oldName 原文件名\r\n- newName 新文件名"
					},
					"response": []
				},
				{
					"name": "直接下载网盘文件",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{addr}}/api/diskFile/42/content/folder1/photo1.png",
							"host": [
								"{{addr}}"
							],
							"path": [
								"api",
								"diskFile",
								"42",
								"content",
								"folder1",
								"photo1.png"
							]
						},
						"description": "## 从网盘中获取一个文件内容  \r\n- URI：`/api/diskFile/{uid}/{文件路径}`\r\n- 动作：GET/POST\r\n\r\n要注意的是，使用该接口下载文件需要在header或表单中传递Token，在浏览器中可使用POST提交带Token的表单实现下载\r\n\r\n### 响应\r\n直接响应文件"
					},
					"response": []
				}
			]
		},
		{
			"name": "管理员",
			"item": [
				{
					"name": "用户管理",
					"item": [
						{
							"name": "取用户列表",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/user/list?page=1",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"user",
										"list"
									],
									"query": [
										{
											"key": "page",
											"value": "1"
										}
									]
								},
								"description": "获取系统中的用户列表信息\r\n- URI：`/api/user/list` \r\n- 动作：GET \r\n\r\n响应示例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": {\r\n        \"total\": 3,\r\n        \"list\": [\r\n            {\r\n                \"id\": 49,\r\n                \"user\": \"admin\",\r\n                \"type\": 1,\r\n                \"quota\": 10\r\n            },\r\n            {\r\n                \"id\": 50,\r\n                \"user\": \"xiaotao\",\r\n                \"type\": 1,\r\n                \"quota\": 10\r\n            },\r\n            {\r\n                \"id\": 51,\r\n                \"user\": \"test\",\r\n                \"type\": 0,\r\n                \"quota\": 10\r\n            }\r\n        ],\r\n        \"pageNum\": 1,\r\n        \"pageSize\": 10,\r\n        \"size\": 3,\r\n        \"startRow\": 1,\r\n        \"endRow\": 3,\r\n        \"pages\": 1,\r\n        \"prePage\": 0,\r\n        \"nextPage\": 0,\r\n        \"isFirstPage\": true,\r\n        \"isLastPage\": true,\r\n        \"hasPreviousPage\": false,\r\n        \"hasNextPage\": false,\r\n        \"navigatePages\": 8,\r\n        \"navigatepageNums\": [\r\n            1\r\n        ],\r\n        \"navigateFirstPage\": 1,\r\n        \"navigateLastPage\": 1\r\n    },\r\n    \"msg\": \"OK\"\r\n}\r\n```"
							},
							"response": []
						},
						{
							"name": "用户授权",
							"request": {
								"method": "PUT",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/user/51/type/1",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"user",
										"51",
										"type",
										"1"
									]
								},
								"description": "授予或撤销用户的管理员权限\r\n- URI：`/api/user/{uid}/type/{typeCode}` \r\n- 动作：PUT  \r\n\r\nURI参数：\r\n- uid 目标用户ID\r\n- typeCode 权限代码，1为设置管理员，0为撤销管理员"
							},
							"response": []
						},
						{
							"name": "添加用户",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "user",
											"value": "wodiu",
											"description": "用户名",
											"type": "text"
										},
										{
											"key": "passwd",
											"value": "wodiu",
											"description": "密码",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{addr}}/api/user",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"user"
									]
								},
								"description": "添加用户\r\n该接口与`用户/注册用户`为同一接口\r\n- URI: `/api/user/`\r\n- 动作：POST\r\n\r\n### 请求体参数\r\n- user  用户名\r\n- passwd    登录密码"
							},
							"response": []
						}
					]
				},
				{
					"name": "系统管理",
					"item": [
						{
							"name": "存储管理",
							"item": [
								{
									"name": "切换存储模式",
									"request": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "urlencoded",
											"urlencoded": []
										},
										"url": {
											"raw": "{{addr}}/api/admin/sys/config/STORE_TYPE/UNIQUE",
											"host": [
												"{{addr}}"
											],
											"path": [
												"api",
												"admin",
												"sys",
												"config",
												"STORE_TYPE",
												"UNIQUE"
											]
										},
										"description": "切换网盘系统的存储模式  \r\n- URI：`/api/admin/sys/config/STORE_TYPE/{type}` \r\n- 动作：PUT \r\n\r\n注意:\r\n1. 切换过程中将会暂时阻断所有文件相关的接口调用\r\n2. 调用该接口可能会导致正在下载文件的用户连接断开\r\n3. 若切换过程中服务器异常（如程序bug，服务器断电等）导致切换中断，可能会造成数据丢失，请谨慎操作  \r\n\r\nURI参数\r\n- type 可选RAW与UNIQUE\r\n\r\n模式说明\r\n- RAW 原始存储模式，每个用户都使用独立的服务器文件资源，本地的文件名与目录结构与用户网盘文件结构保持一致\r\n    -   优点：方便管理员直接通过操作系统的文件操作来查看与更改用户文件\r\n    -   缺点：文件的复制，移动耗时长，消耗服务器资源大，相同文件存在多份时，文件冗余占用大\r\n- UNIQUE 唯一存储模式，每个相同的文件在服务器只存储一份，将依据文件散列值进行编配文件结构与文件名\r\n    -   优点：几乎零成本的复制和移动，服务器不会存储多个相同文件\r\n    -   缺点：可能会占用大量node节点，管理员不方便直接通过操作系统的文件操作来查看与更改用户文件\r\n\r\n切换成功响应示例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": null,\r\n    \"msg\": \"ok\"\r\n}\r\n```\r\n\r\n系统当前存储模式与参数相同时的响应示例\r\n```json\r\n{\r\n    \"code\": 0,\r\n    \"data\": \"UNIQUE\",       //  服务器当前存储模式\r\n    \"msg\": \"请求被忽略，模式无变化\"\r\n}\r\n```"
									},
									"response": []
								},
								{
									"name": "获取存储状态",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{addr}}/api/admin/store/state",
											"host": [
												"{{addr}}"
											],
											"path": [
												"api",
												"admin",
												"store",
												"state"
											]
										},
										"description": "获取网盘系统的存储状态  \r\n- URI：`/api/admin/store/state` \r\n- 动作：GET \r\n\r\n响应示例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": {\r\n        \"store_type\": \"UNIQUE\",                         //  存储类型\r\n        \"file_count\": 248,                              //  文件计数\r\n        \"dir_count\": 69,                                //  目录计数\r\n        \"real_user_size\": 14678764,                     //  实际存储的用户文件总大小\r\n        \"total_user_size\": 32274467,                    //  记录的用户文件总大小\r\n        \"total_public_size\": 9505370783,                //  公共目录总大小\r\n        \"store_total_space\": 1000203087872,             //  用户数据根所在分区总大小      \r\n        \"store_free_space\": 283439636480,               //  用户数据根所在分区可用空间大小\r\n        \"public_total_space\": 1000203087872,            //  公共数据根所在分区总大小      \r\n        \"public_free_space\": 283439636480,              //  公共数据根所在分区可用空间大小\r\n        \"store_root\": \"D:\\\\data\\\\xiaotao\\\\saltedfishcloud\\\\store\",  //  用户数据根\r\n        \"public_root\": \"D:\\\\pack\",                                  //  公共数据根\r\n        \"store_type_switching\": false                               //  系统是否处于存储切换中状态\r\n    },\r\n    \"msg\": \"OK\"\r\n}\r\n```"
									},
									"response": []
								},
								{
									"name": "立即同步",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{addr}}/api/admin/store/sync?all=true",
											"host": [
												"{{addr}}"
											],
											"path": [
												"api",
												"admin",
												"store",
												"sync"
											],
											"query": [
												{
													"key": "all",
													"value": "true"
												}
											]
										},
										"description": "立即同步网盘（默认只同步公共网盘）与本地存储的文件信息\r\n- URI: `/api/admin/store/sync`\r\n- 动作：POST\r\n\r\n### 参数\r\n- all 类型：boolean 说明：是否同步所有私人用户的数据 默认值：false"
									},
									"response": []
								}
							]
						},
						{
							"name": "常规设置",
							"item": [
								{
									"name": "代理节点",
									"item": [
										{
											"name": "添加代理节点",
											"request": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "formdata",
													"formdata": [
														{
															"key": "name",
															"value": "local2",
															"type": "text"
														},
														{
															"key": "type",
															"value": "SOCKS",
															"type": "text"
														},
														{
															"key": "address",
															"value": "127.0.0.1",
															"type": "text"
														},
														{
															"key": "port",
															"value": "1",
															"type": "text"
														}
													]
												},
												"url": {
													"raw": "{{addr}}/api/admin/sys/proxy",
													"host": [
														"{{addr}}"
													],
													"path": [
														"api",
														"admin",
														"sys",
														"proxy"
													]
												}
											},
											"response": []
										},
										{
											"name": "获取所有代理",
											"request": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{addr}}/api/admin/sys/proxy",
													"host": [
														"{{addr}}"
													],
													"path": [
														"api",
														"admin",
														"sys",
														"proxy"
													]
												}
											},
											"response": []
										},
										{
											"name": "修改代理节点信息",
											"request": {
												"method": "PUT",
												"header": [],
												"body": {
													"mode": "formdata",
													"formdata": []
												},
												"url": {
													"raw": "{{addr}}/api/admin/sys/proxy?proxyName=a&type=HTTP&port=1080&address=127.0.0.1&name=local",
													"host": [
														"{{addr}}"
													],
													"path": [
														"api",
														"admin",
														"sys",
														"proxy"
													],
													"query": [
														{
															"key": "proxyName",
															"value": "a"
														},
														{
															"key": "type",
															"value": "HTTP"
														},
														{
															"key": "port",
															"value": "1080"
														},
														{
															"key": "address",
															"value": "127.0.0.1"
														},
														{
															"key": "name",
															"value": "local"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "删除代理节点",
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{addr}}/api/admin/sys/proxy?proxyName=local2",
													"host": [
														"{{addr}}"
													],
													"path": [
														"api",
														"admin",
														"sys",
														"proxy"
													],
													"query": [
														{
															"key": "proxyName",
															"value": "local2"
														}
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "设置配置项值",
									"request": {
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{addr}}/api/admin/sys/config/REG_CODE/10241024",
											"host": [
												"{{addr}}"
											],
											"path": [
												"api",
												"admin",
												"sys",
												"config",
												"REG_CODE",
												"10241024"
											]
										},
										"description": "设置配置项的值\r\n- URI：`/api/admin/sys/config/{key}/{value}` \r\n- 动作：PUT  \r\n\r\nURI参数：\r\n- key 配置项名，可选STORE_TYPE，REG_CODE，SYNC_DELAY\r\n- value 要设置的值"
									},
									"response": []
								},
								{
									"name": "获取所有配置项的值",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{addr}}/api/admin/sys/config",
											"host": [
												"{{addr}}"
											],
											"path": [
												"api",
												"admin",
												"sys",
												"config"
											]
										},
										"description": "获取常规设置选项值\r\n- URI：`/api/admin/sys/config` \r\n- 动作：GET\r\n\r\n响应示例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": {\r\n        \"REG_CODE\": \"10241024\",\r\n        \"STORE_TYPE\": \"UNIQUE\",\r\n        \"SYNC_DELAY\": \"10\"\r\n    },\r\n    \"msg\": \"OK\"\r\n}\r\n```"
									},
									"response": []
								},
								{
									"name": "读取配置项值",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{addr}}/api/admin/sys/config/SYNC_DELAY",
											"host": [
												"{{addr}}"
											],
											"path": [
												"api",
												"admin",
												"sys",
												"config",
												"SYNC_DELAY"
											]
										},
										"description": "读取某项配置项值\r\n- URI：`/api/admin/sys/config/{key}` \r\n- 动作：GET\r\n\r\nURI参数：\r\n- key 参数名，可选STORE_TYPE，REG_CODE，SYNC_DELAY"
									},
									"response": []
								},
								{
									"name": "取所有可用配置项",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{addr}}/api/admin/sys/configKeys",
											"host": [
												"{{addr}}"
											],
											"path": [
												"api",
												"admin",
												"sys",
												"configKeys"
											]
										},
										"description": "取所有可用的配置项名\r\n- URI：`/api/admin/sys/configKeys` \r\n- 动作：GET\r\n\r\n响应示例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": [\r\n        \"REG_CODE\",\r\n        \"STORE_TYPE\",\r\n        \"SYNC_DELAY\"\r\n    ],\r\n    \"msg\": \"OK\"\r\n}\r\n```"
									},
									"response": []
								}
							]
						},
						{
							"name": "取总览信息",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/admin/sys/overview",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"admin",
										"sys",
										"overview"
									]
								},
								"description": "获取网盘系统的存储状态  \r\n- URI：`/api/admin/sys/overview` \r\n- 动作：GET \r\n\r\n响应示例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": {\r\n        \"store: {\r\n            \"store_type\": \"UNIQUE\",                         //  存储类型\r\n            \"file_count\": 248,                              //  文件计数\r\n            \"dir_count\": 69,                                //  目录计数\r\n            \"real_user_size\": 14678764,                     //  实际存储的用户文件总大小\r\n            \"total_user_size\": 32274467,                    //  记录的用户文件总大小\r\n            \"total_public_size\": 9505370783,                //  公共目录总大小\r\n            \"store_total_space\": 1000203087872,             //  用户数据根所在分区总大小      \r\n            \"store_free_space\": 283439636480,               //  用户数据根所在分区可用空间大小\r\n            \"public_total_space\": 1000203087872,            //  公共数据根所在分区总大小      \r\n            \"public_free_space\": 283439636480,              //  公共数据根所在分区可用空间大小\r\n            \"store_root\": \"D:\\\\data\\\\xiaotao\\\\saltedfishcloud\\\\store\",  //  用户数据根\r\n            \"public_root\": \"D:\\\\pack\",                                  //  公共数据根\r\n            \"store_type_switching\": false                               //  系统是否处于存储切换中状态\r\n        },\r\n        \"invite_reg_code\": 114514,\r\n    },\r\n    \"msg\": \"OK\"\r\n}\r\n```"
							},
							"response": []
						}
					]
				},
				{
					"name": "开发调试接口",
					"item": [
						{
							"name": "切换只读级别",
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "level",
											"value": "null",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{addr}}/api/admin/debug/readOnly",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"admin",
										"debug",
										"readOnly"
									]
								},
								"description": "设置系统的只读状态，用于只读状态下各接口的工作情况  \r\n\r\n该状态一般在切换存储模式执行过程中为null\r\n\r\n该状态仅在运行时有效\r\n- URI：`/api/admin/debug/readOnly` \r\n- 动作：PUT  \r\n\r\n参数：\r\n- level 只读级别，可选DATA_MOVING，DATA_CHECKING，和null。为null时表示关闭只读模式  \r\n\r\n当系统处于任意一种只读级别（null除外）时，无法切换到另一种只读级别，必须要先切换到null后才可切换到另一个级别"
							},
							"response": []
						},
						{
							"name": "获取只读级别",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": []
								},
								"url": {
									"raw": "{{addr}}/api/admin/debug/readOnly",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"admin",
										"debug",
										"readOnly"
									]
								},
								"description": "获取系统当前的只读级别\r\n- URI：`/api/admin/debug/readOnly` \r\n- 动作：GET"
							},
							"response": []
						},
						{
							"name": "获取开发者选项值",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/admin/debug/options",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"admin",
										"debug",
										"options"
									]
								},
								"description": "获取系统开发者选项值\r\n- URI：`/api/admin/debug/options` \r\n- 动作：GET\r\n\r\n响应样例\r\n```json\r\n{\r\n    \"code\": 1,\r\n    \"data\": {\r\n        \"read_only_level\": null,    //  系统阻塞级别\r\n        \"sync_delay\": 5             //  公共网盘同步延迟\r\n    },\r\n    \"msg\": \"OK\"\r\n}\r\n```"
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "任务",
			"item": [
				{
					"name": "下载任务",
					"item": [
						{
							"name": "创建下载任务",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"savePath\": \"/\",\r\n    \"url\": \"https://bigota.d.miui.com/V11.0.5.0.PCACNXM/miui_MI6_V11.0.5.0.PCACNXM_996ffd2660_9.0.zip\",\r\n    \"headers\": {\r\n        \"ua\": \"a\",\r\n        \"name\": \"xiaotao\"\r\n    },\r\n    \"method\": \"GET\",\r\n    \"uid\": 1\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{addr}}/api/task/download",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"task",
										"download"
									]
								},
								"description": "## 创建一个下载任务  \n异步API，请求后在data中返回异步任务ID\n\n### 请求体json参数\n- savePath: 必填，下载后保存的目录\n- url: 必填，文件下载地址\n- headers: 选填，附加的请求header，key-value类型对象\n- method： 选填，请求方法，默认GET,可选：[HEAD, TRACE, GET, PATCH, DELETE, OPTIONS, PUT, POST]，必须全大写\n请求体（Body）示例\n- proxy： 选填，代理节点名称\n\n### 请求体示例\n```json\n{\n    \"savePath\": \"/\",\n    \"url\": \"www.baidu.com\",\n    \"headers\": {\n        \"key\": \"value\",\n        \"token\": \"123123123\"\n    },\n    \"method\": \"GET\",\n    \"proxy\": \"local1\"\n}\n```"
							},
							"response": []
						},
						{
							"name": "获取下载任务列表",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/task/download?uid=1&page=1&size=40&type=FINISH",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"task",
										"download"
									],
									"query": [
										{
											"key": "uid",
											"value": "1"
										},
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "size",
											"value": "40"
										},
										{
											"key": "type",
											"value": "FINISH"
										}
									]
								},
								"description": "## 查询参数\n- uid：要查询的用户\n- page：选填，页数，从1开始，默认1\n- size：选填，每页大小，每页大小，5-400之间，默认10\n\n## 响应data数组元素\n- id：下载任务的ID\n- uid：目标用户\n- url：文件URL\n- proxy：使用的代理名称\n- state: 任务状态，FINISH - 任务完成， FAILED - 任务失败， DOWNLOADING - 下载中，WAITING - 等待中\n- message：任务消息，一般为null，当任务失败时为失败消息\n- size：文件大小\n- name：文件名\n- savePath：保存到的网盘位置\n- createdAt：创建日期\n- finishAt：完成日期\n- createdBy：创建者\n\n## 响应体其他字段\n- totalItem：总数量\n- totalPage：当前分页大小下的总页数"
							},
							"response": []
						},
						{
							"name": "中止下载任务",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/task/download?taskId=2ecf7de0-46d8-4e0c-b77f-2153772b3266",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"task",
										"download"
									],
									"query": [
										{
											"key": "taskId",
											"value": "2ecf7de0-46d8-4e0c-b77f-2153772b3266"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "获取可用代理名称",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{addr}}/api/task/download/proxy",
									"host": [
										"{{addr}}"
									],
									"path": [
										"api",
										"task",
										"download",
										"proxy"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "value",
				"value": "{{token}}",
				"type": "string"
			},
			{
				"key": "key",
				"value": "Token",
				"type": "string"
			},
			{
				"key": "in",
				"value": "header",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}